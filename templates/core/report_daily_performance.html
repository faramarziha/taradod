{% extends "core/base_management.html" %}
{% load jformat %}
{% block title %}کارکرد پرسنل{% endblock %}
{% block management_content %}
<h2 class="page-title"><i class="fas fa-calendar-day"></i> کارکرد پرسنل</h2>
<form method="get" class="card page page-sm form-grid" style="margin-bottom:1rem;">
  {% for field in form %}
  <div class="form-group">{{ field.label_tag }}{{ field }}</div>
  {% endfor %}
  <button type="submit" class="btn">نمایش</button>
</form>
{% if rows %}
<div class="table-responsive">
<table class="management-table">
  <thead>
    <tr><th>تاریخ</th><th>ورود</th><th>خروج</th><th>ساعت کار</th></tr>
  </thead>
  <tbody>
    {% for r in rows %}
    <tr>
      <td>{{ r.date|jformat:"%Y/%m/%d" }}</td>
      <td>{{ r.in|default:"-" }}</td>
      <td>{{ r.out|default:"-" }}</td>
      <td>{{ r.hours }}</td>
    </tr>
    {% endfor %}
    <tr>
      <th colspan="3">جمع</th>
      <th>{{ total_hours }}</th>
    </tr>
  </tbody>
</table>
</div>
{% endif %}
{% endblock %}
{% block extra_js %}{{ form.media }}{% endblock %}
