{% extends "core/base.html" %}
{% load static %}
{% block extra_css %}
<link rel="stylesheet" href="{% static 'core/management.css' %}">
{% endblock %}
{% block content %}
<div class="management-layout">
  <div id="sidebar-overlay" class="sidebar-overlay"></div>
  <aside class="management-sidebar" id="management-sidebar">
    <div class="sidebar-title">پنل مدیریت</div>
    <nav>
      <a href="{% url 'management_dashboard' %}" class="{% if request.resolver_match.url_name == 'management_dashboard' %}active{% endif %}">
        <i class="fas fa-chart-pie"></i> داشبورد
      </a>
      <a href="{% url 'attendance_status' %}" class="{% if request.resolver_match.url_name == 'attendance_status' %}active{% endif %}">
        <i class="fas fa-user-check"></i> وضعیت حضور
      </a>
      <a href="{% url 'management_users' %}" class="{% if request.resolver_match.url_name == 'management_users' %}active{% endif %}">
        <i class="fas fa-users"></i> کاربران
      </a>
      <details class="sidebar-group {% if request.resolver_match.url_name == 'management_reports' or request.resolver_match.url_name == 'monthly_profile' %}open{% endif %}">
        <summary><i class="fas fa-file-alt"></i> گزارش‌ها</summary>
        <nav class="sub-menu">
          <a href="{% url 'management_reports' %}" class="{% if request.resolver_match.url_name == 'management_reports' %}active{% endif %}">گزارش کاربران</a>
          <a href="{% url 'monthly_profile' %}" class="{% if request.resolver_match.url_name == 'monthly_profile' %}active{% endif %}">پروفایل ماهانه</a>
        </nav>
      </details>
        <a href="{% url 'suspicious_logs' %}" class="{% if request.resolver_match.url_name == 'suspicious_logs' %}active{% endif %}">
          <i class="fas fa-exclamation-triangle"></i> موارد مشکوک
        </a>
        <a href="{% url 'edit_requests' %}" class="{% if request.resolver_match.url_name == 'edit_requests' %}active{% endif %}">
          <i class="fas fa-edit"></i> درخواست‌های ویرایش
        </a>
      <a href="{% url 'leave_requests' %}" class="{% if request.resolver_match.url_name == 'leave_requests' %}active{% endif %}">
        <i class="fas fa-calendar-check"></i> مرخصی‌ها
      </a>
      <a href="{% url 'weekly_holidays' %}" class="{% if request.resolver_match.url_name == 'weekly_holidays' %}active{% endif %}">
        <i class="fas fa-calendar-day"></i> تعطیلات هفتگی
      </a>
      <details class="sidebar-group {% if request.resolver_match.url_name == 'shift_list' or request.resolver_match.url_name == 'shift_add' or request.resolver_match.url_name == 'shift_edit' or request.resolver_match.url_name == 'group_list' or request.resolver_match.url_name == 'group_add' or request.resolver_match.url_name == 'group_edit' or request.resolver_match.url_name == 'leave_type_list' or request.resolver_match.url_name == 'leave_type_add' or request.resolver_match.url_name == 'leave_type_edit' or request.resolver_match.url_name == 'device_settings' %}open{% endif %}">
        <summary><i class="fas fa-cogs"></i> تنظیمات مجموعه</summary>
        <nav class="sub-menu">
          <a href="{% url 'shift_list' %}" class="{% if request.resolver_match.url_name == 'shift_list' or request.resolver_match.url_name == 'shift_add' or request.resolver_match.url_name == 'shift_edit' %}active{% endif %}">شیفت‌ها</a>
          <a href="{% url 'group_list' %}" class="{% if request.resolver_match.url_name == 'group_list' or request.resolver_match.url_name == 'group_add' or request.resolver_match.url_name == 'group_edit' %}active{% endif %}">گروه‌ها</a>
        <a href="{% url 'leave_type_list' %}" class="{% if request.resolver_match.url_name == 'leave_type_list' or request.resolver_match.url_name == 'leave_type_add' or request.resolver_match.url_name == 'leave_type_edit' %}active{% endif %}">انواع مرخصی</a>
          <a href="{% url 'device_settings' %}" class="{% if request.resolver_match.url_name == 'device_settings' %}active{% endif %}">دستگاه</a>
        </nav>
      </details>
      <a href="{% url 'home' %}" class="mobile-only"><i class="fas fa-home"></i> صفحه اصلی</a>
      <a href="{% url 'logout' %}" class="mobile-only"><i class="fas fa-sign-out-alt"></i> خروج</a>
      </nav>
  </aside>
  <section class="management-content">
    {% block management_content %}{% endblock %}
  </section>
</div>
{% endblock %}
